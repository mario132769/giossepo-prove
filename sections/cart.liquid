<section class="page-width cart-page">
  <h1 class="cart-title">Tu carrito</h1>

  {% if cart.item_count == 0 %}
    <p class="cart-empty">Tu carrito está vacío.</p>
  {% else %}
    <div class="cart-items">
      {% for item in cart.items %}
        <div class="cart-item" data-key="{{ item.key }}">
          <div class="cart-item-image">
            <img width="100" height="100" src="{{ item.image | image_url: width: 100 }}" alt="{{ item.product.title }}">
          </div>
          <div class="cart-item-details">
            <h3>{{ item.product.title }}</h3>

            <div class="quantity-controls" data-key="{{ item.key }}">
              <button class="qty-minus">−</button>
              <span class="qty-value">{{ item.quantity }}</span>
              <button class="qty-plus">+</button>
            </div>

            <p>Precio unitario: {{ item.price | money }}</p>
            <p>Total: {{ item.line_price | money }}</p>
            <button class="cart-remove">Eliminar</button>
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="cart-summary">
      <p class="cart-total">Total: <strong id="cart-page-total">{{ cart.total_price | money }}</strong></p>
      <a href="/checkout" class="button checkout-button">Ir a pagar</a>
    </div>
  {% endif %}
</section>
